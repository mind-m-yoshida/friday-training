defaultTasks 'prepared'

apply plugin: 'java'

apply {
    plugin 'eclipse'
    plugin 'idea'
}

repositories {
    mavenCentral()
}

dependencies {
    compile 'org.slf4j:slf4j-api:1.7.+'

    testCompile("junit:junit:4.11") { transitive = false }
    testCompile 'org.hamcrest:hamcrest-all:1.3'
    testCompile 'org.mockito:mockito-all:1.9.5'
}

def jdkVersion = '1.7'
def defaultEncoding = 'UTF-8'

sourceCompatibility = targetCompatibility = jdkVersion

tasks.withType(AbstractCompile).each {
    it.options.compilerArgs << "-Xlint:unchecked"
    it.options.compilerArgs << "-Xlint:deprecation"
    it.options.encoding = defaultEncoding
    it.options.fork = true
}

wrapper {
    gradleVersion '1.12'
}

task prepared << { 
    sourceSets*.allSource*.srcDirs.flatten().each {
        logger.lifecycle "create $it"
        it.mkdirs()
    }
}
